<div class="hook-list">
    <div class="row">
        <div class="column">
            <material-auto-suggest-input [leadingGlyph]="'search'" [label]="'group filter'" [selectionOptions]="groups"
                [(inputText)]="enteredFilter" (selectionChange)="getHookList">
            </material-auto-suggest-input>

            <div class="row">
                <material-button (click)="addNewHook" raised> New </material-button>
                <material-button (click)="delHook" raised [disabled]="selectedIdx == null"> Remove </material-button>
            </div>
        </div>

        <material-list>
            <material-select-item *ngFor="let hook of hooks; let i = index" (trigger)="selected(hook, i)"
                [selected]="i == selectedIdx">
                {{hook.command}} {{hook.group}} FENCE {{hook.area}}
            </material-select-item>
        </material-list>
    </div>


    <modal *ngIf="lastStatus.show" [visible]="true">
        <material-dialog [autoDismissable]="true" (dismiss)="onStatusDismissed">
            <p *ngIf="lastStatus.success"> Operation Successful</p>
            <p *ngIf="!lastStatus.success"> Error: {{lastStatus.message}} </p>
            <material-button raised (click)="onStatusDismissed"> OK </material-button>
        </material-dialog>
    </modal>

    <fence-toolbox id="fence" [state]="fenceToolboxBloc | bloc" [map]="map" (created)="onHookCreated"> </fence-toolbox>

</div>